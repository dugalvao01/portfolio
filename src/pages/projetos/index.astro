---
import Layout from '../../layouts/Layout.astro';
import ProjectFilter from '../../components/islands/ProjectFilter';
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');
const sortedProjects = projects.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="Projetos | Engenharia e Code" description="Meus projetos e estudos de caso.">
	<div class="max-w-6xl mx-auto">
		<header class="mb-12 text-center">
			<h1 class="text-4xl md:text-5xl font-bold text-white mb-6">Projetos & Cases</h1>
			<p class="text-slate-400 text-lg max-w-2xl mx-auto">
				Uma seleção dos meus trabalhos mais recentes, desde otimizações técnicas profundas até automações inteligentes.
			</p>
		</header>

		<!-- React Island for Search/Filter -->
		<ProjectFilter client:load projects={sortedProjects} />
	</div>
</Layout>
